#!/bin/bash

# ==============================================================================
# Globals

# Absolute pathe of this script
SCRIPT_PATH=`dirname "$0"`

# The base project directory
# If DS_APP_ROOT is not provided, the script will use parent folder as base path
BASE_PATH=${DS_APP_ROOT:-`dirname $SCRIPT_PATH`}

# The webroot directory name for the dev environment
WEB_DIR='html'

# Full webroot path
WEB_PATH=$BASE_PATH/$WEB_DIR

# # ==============================================================================
# # Functions

#=== FUNCTION ==================================================================
# NAME: art
# DESCRIPTION: Returns DS ascii art to console
#===============================================================================
function art {
  echo '     ___           ___       ___           ___           ___           ___ ';
  echo '    /\  \         /\__\     /\  \         /\  \         /\  \         /\__\';
  echo '   /::\  \       /:/  /    /::\  \       /::\  \       /::\  \       /:/  /';
  echo '  /:/\:\  \     /:/  /    /:/\:\  \     /:/\:\  \     /:/\:\  \     /:/  / ';
  echo ' /:/  \:\  \   /:/  /    /:/  \:\  \   /::\~\:\__\   /::\~\:\  \   /:/  /  ';
  echo '/:/__/_\:\__\ /:/__/    /:/__/ \:\__\ /:/\:\ \:|__| /:/\:\ \:\__\ /:/__/   ';
  echo '\:\  /\ \/__/ \:\  \    \:\  \ /:/  / \:\~\:\/:/  / \/__\:\/:/  / \:\  \   ';
  echo ' \:\ \:\__\    \:\  \    \:\  /:/  /   \:\ \::/  /       \::/  /   \:\  \  ';
  echo '  \:\/:/  /     \:\  \    \:\/:/  /     \:\/:/  /        /:/  /     \:\  \ ';
  echo '   \::/  /       \:\__\    \::/  /       \::/__/        /:/  /       \:\__\';
  echo '    \/__/         \/__/     \/__/         ~~            \/__/         \/__/';
  echo
}

#=== FUNCTION ==================================================================
# NAME: enable
# DESCRIPTION: Enables global.
#===============================================================================
function enable {
  # Display ascii art
  art

  set -e
  cd $WEB_PATH

  # Enables global module.
  drush -y en dosomething_global

  # Revert features.
  drush -y fra
}

# ==============================================================================

# ==============================================================================
# Commands
# ==============================================================================

#----------------------------------------------------------------------
# enable
#----------------------------------------------------------------------
enable
